@startdot
digraph CMake {
  rankdir=BT;

  subgraph clusterPrerequisite {
    node [shape=box, style=rounded];
    CM [label="CMake", color=royalblue];
    SWIG [label="Swig\n(Unix)", color=chocolate];
    PY [label="Python\n(3.5+)", color=gold];
    Java [label="Java\n(openJDK 8+)", color=indigo];
    Dotnet [label=".Net Core SDK\n(3.0.101)", color=forestgreen];
    CM -> SWIG [arrowhead=none, style=invisible];
    SWIG -> PY [arrowhead=none, style=invisible];
    SWIG -> Java [arrowhead=none, style=invisible];
    SWIG -> Dotnet [arrowhead=none, style=invisible];
    label = "Prerequisite";
  }


  subgraph clusterOR {
    node [shape=box,style=rounded];
    OR [label="C++", shape=component, style="rounded,filled,bold", color=royalblue, fillcolor=royalblue];
    OR_WPY [label="Python wrap", color=gold];
    OR_PY [label="Python\n(-DENABLE_PYTHON=ON)", style="rounded,filled,bold", color=gold, fillcolor=gold];
    OR -> OR_WPY [label="swig", color=chocolate];
    OR_WPY -> OR_PY [label="python", color=gold];
    OR -> OR_PY [label="python", color=gold];
    subgraph clusterDeps {
      node [shape=box,style=rounded];

      subgraph clusterZLIB {
        ZLIB [label="ZLIB::ZLIB", color=royalblue];
        color=royalblue;
        label = "madler/zlib.git + cmake patch";
      }

      subgraph clusterAbsl {
        Absl [label="absl::absl_*", color=royalblue];
        color=royalblue;
        label = "abseil/abseil-cpp.git";
      }

      subgraph clusterGFlags {
        GFlags [label="gflags::gflags", color=royalblue];
        color=royalblue;
        label = "gflags/gflags.git";
      }

      subgraph clusterGLog {
        GLog [label="glog::glog", color=royalblue];
        color=royalblue;
        label = "google/glog.git";
      }

      subgraph clusterProtobuf {
      Protobuf [label="protobuf::libprotobuf", color=royalblue];
        color=royalblue;
        label = "protocolbuffers/protobuf.git";
      }

      subgraph clusterAbsl {
        subgraph clusterCoinUtils {
          node [shape=box, style=rounded];
          CoinUtils [label="Coin::CoinUtils", color=royalblue];
          color=royalblue;
          label = "mizux/CoinUtils.git";
        }
        subgraph clusterOsi {
          node [shape=box, style=rounded];
          Osi [label="Coin::Osi", color=royalblue];
          color=royalblue;
          label = "mizux/Osi.git";
        }
        subgraph clusterClp {
          node [shape=box, style=rounded];
          Clp [label="Coin::Clp", color=royalblue];
          OsiClp [label="Coin::OsiClp", color=royalblue];
          ClpSolver [label="Coin::ClpSolver", color=royalblue];
          color=royalblue;
          label = "mizux/Clp.git";
        }
        subgraph clusterCgl {
          node [shape=box, style=rounded];
          Cgl [label="Coin::Cgl", color=royalblue];
          color=royalblue;
          label = "mizux/Cgl.git";
        }
        subgraph clusterCbc {
          node [shape=box, style=rounded];
          Cbc [label="Coin::Cbc", color=royalblue];
          OsiCbc [label="Coin::OsiCbc", color=royalblue];
          CbcSolver [label="Coin::CbcSolver", color=royalblue];
          color=royalblue;
          label = "mizux/Cbc.git";
        }

        CoinUtils -> Osi [label=""];

        CoinUtils -> Clp [label=""];
        Osi -> Clp [label=""];

        CoinUtils -> OsiClp [label=""];
        Osi -> OsiClp [label=""];
        Clp -> OsiClp [label=""];

        Clp -> ClpSolver [label=""];

        CoinUtils -> Cgl [label=""];
        Osi -> Cgl [label=""];
        OsiClp -> Cgl [label=""];

        CoinUtils -> Cbc [label=""];
        Osi -> Cbc [label=""];
        Clp -> Cbc [label=""];
        Cgl -> Cbc [label=""];

        CoinUtils -> OsiCbc [label=""];
        Osi -> OsiCbc [label=""];
        Cbc -> OsiCbc [label=""];

        Cbc -> CbcSolver [label=""];
        color=royalblue;
        label = "Coin-OR Solver\n(-DUSE_COINOR=ON)";
      }

      ZLIB -> Protobuf;
      ZLIB -> Cbc;

      Absl -> Protobuf;

      GFlags -> GLog;

      SWIG_WIN [label="Swig\n(Windows)", color=chocolate];
      color=royalblue;
      label = "Dependencies\n(-DBUILD_DEPS=ON)";
    }
    ZLIB -> OR [label=""];
    Absl -> OR [label=""];
    Protobuf -> OR [label=""];
    GFlags -> OR [label=""];
    GLog -> OR [label=""];
    Clp -> OR [label=""];
    Cbc -> OR [label=""];


    subgraph clusterPackage {
      node [shape=component];
      PKG_CC [label=".deb Package", style="filled",	color=royalblue];
      PKG_PY [label="Pypi Package", style="filled",	color=gold];
      color=royalblue;
      label = "Package";
    }
    OR -> PKG_CC [label="WIP", style="dotted", color=dimgrey];
    OR_PY -> PKG_PY [color=gold];

    subgraph clusterEX {
      node [shape=box,style="rounded,dashed"];
      EX_CC [label="C++", color=royalblue];
      EX_PY [label="Python", color=gold];
      color=royalblue;
      label = "Examples\n(-DENABLE_TESTING=ON)";
    }
    OR -> EX_CC;
    OR_PY -> EX_PY [color=gold];
    color=royalblue;
    label = "OR-Tools (CMake)";
  }
}
@enddot
# vim tw:0
